# ADR 006 - Uso de Winston para la implementación del Logging en el Sistema

**Estado**: Aprobado.

## Contexto:
El sistema YAGNI debe registrar todas las interacciones y eventos significativos para asegurar la trazabilidad, la capacidad de diagnóstico y análisis de errores, y el cumplimiento de los estándares de seguridad. Se requiere que cada acceso a las funcionalidades del sistema quede registrado, incluyendo información del actor, sus permisos, la acción realizada y el timestamp. Además, todas las excepciones y errores que ocurran deben ser documentados para poder analizar los problemas en tiempo de ejecución.

## Decisión:
Se ha decidido utilizar **Winston** como la librería principal para la gestión de logs en YAGNI. Winston permitirá registrar tanto los accesos como las excepciones de manera estructurada, con opciones avanzadas de almacenamiento, formato y niveles de log. Se configurará para cumplir con los requerimientos establecidos, ajustando la salida de logs según las necesidades del sistema y los entornos en los que este funcione. El almacenamiento sería en una base de datos de MongoDB.

## Atributos de Calidad Satisfechos:

- **Seguridad**: Winston permitirá el registro detallado de todos los accesos a las funcionalidades del sistema, incluyendo la identificación del actor y sus permisos, lo cual contribuye a la auditoría y control de accesos.
  
- **Modificabilidad**: Facilita el análisis y diagnóstico de errores mediante el registro estructurado de excepciones y fallos, lo que permite identificar y corregir problemas rápidamente.

- **Disponibilidad**: Al monitorear y registrar en tiempo real cada evento con información completa y relevante, Winston asegura una trazabilidad clara de las interacciones dentro del sistema. Contribuye a la rápida identificación de fallos, mejorando el tiempo de recuperación.

- **Interoperabilidad**: Compatible con diversos servicios y herramientas de monitoreo externos, lo cual mejora la integración con sistemas de auditoría y control.

## Ventajas:
- Configurabilidad avanzada: Winston permite establecer diferentes niveles de logging, desde información detallada hasta advertencias y errores críticos.
- Múltiples transportes: Los logs pueden ser enviados a diferentes destinos, como archivos, bases de datos, o servicios de monitoreo.
- Formato estructurado: Winston permite crear logs en formato JSON, lo que facilita su análisis y procesamiento automatizado.

## Desventajas:
- Sobrecarga en rendimiento: Un mal manejo de los niveles de logs puede generar una sobrecarga innecesaria en la aplicación, impactando su rendimiento.
- Complejidad de configuración: Winston ofrece múltiples opciones y transportes, lo que puede hacer que la configuración inicial sea más compleja de lo necesario si no se realiza correctamente.

# ADR 002 - Uso de Auth0 para Autenticación, Gestión de Roles y Almacenamiento de Usuarios

**Estado:** Aprobado

## Contexto
El sistema YAGNI requiere un mecanismo robusto y seguro para la autenticación de usuarios y la gestión de roles, asegurando que solo los usuarios autorizados puedan acceder a funciones específicas de la plataforma. Además, el sistema debe proteger las credenciales de autenticación y autorización. La solución también debe ser escalable para soportar cientos de miles de usuarios registrados y proporcionar una integración fácil con los sistemas existentes.

## Decisión
Se ha decidido utilizar Auth0 como el proveedor de autenticación, gestión de roles y también como repositorio de usuarios de YAGNI. Auth0 proporciona autenticación como servicio y autorización basada en roles. Esto facilita la implementación de control de acceso y protege las credenciales con mecanismos avanzados, como la emisión de tokens seguros.

## Atributos de Calidad Satisfechos
- **Seguridad:** Auth0 asegura la protección de las credenciales mediante encriptación avanzada y estándares de seguridad.
- **Escalabilidad:** Auth0 soporta la gestión de un gran número de usuarios concurrentes, asegurando que el sistema pueda escalar con la base de clientes proyectada de YAGNI.
- **Modificabilidad:** Al utilizar un proveedor externo como Auth0, se reduce la complejidad en el desarrollo y mantenimiento de un sistema de autenticación propio.
- **Disponibilidad:** Auth0 garantiza alta disponibilidad para la autenticación de usuarios, ofreciendo redundancia y medidas de recuperación frente a fallos.

## Ventajas
- Simplifica la gestión de usuarios y roles, con una interfaz y APIs bien documentadas.
- Ofrece integración nativa con JSON Web Tokens (JWT), permitiendo una comunicación segura entre los servicios del sistema.
- Protege de los ataques a través de la encriptación y distintos mecanismos de seguridad.
- Gestión avanzada de usuarios, autenticación multifactor (MFA), y soporte para diferentes métodos de autenticación.
- Reducción de la carga operativa relacionada con la seguridad y la gestión de credenciales.

## Desventajas
- La dependencia de un proveedor externo para la autenticación implica confiar en su infraestructura y posibles costos adicionales.
- En caso de fallos o problemas de conectividad con Auth0, podría afectar la capacidad de los usuarios para autenticarse en el sistema, junto a los datos de los mismos y el acceso a ellos.
